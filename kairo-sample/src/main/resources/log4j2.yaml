Configuration:
  status: info # For internal Log4j2 logs.
  shutdownHook: disable
  Appenders:
    Routing:
      name: Console
      Routes:
        pattern: "$${env:LOG_FORMAT:-Plaintext}"
        Route:
          - key: Plaintext
            Console:
              name: Plaintext
              target: SYSTEM_OUT
              PatternLayout:
                pattern: "%date{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %c - %message %mdc%n"
          - key: GcpJson
            Console:
              name: GcpJson
              target: SYSTEM_OUT
              JsonTemplateLayout:
                eventTemplateUri: "classpath:GcpLayout.json"
  Loggers:
    Root:
      level: "${env:LOG_LEVEL:-info}"
      AppenderRef:
        ref: Console
